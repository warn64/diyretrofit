{"version":3,"sources":["core/toasts.js","actions/toasts.js","components/toasts.js"],"names":["dmx","bs5toast","defaults","iconType","position","align","offset-x","offset-y","z-index","min-width","max-width","animation","autohide","closable","delay","container","setup","options","Object","assign","document","createElement","body","appendChild","style","removeProperty","setProperty","clear","textContent","show","node","create","toast","bootstrap","Toast","addEventListener","removeChild","html","this","props","icon","title","subtitle","alt","message","tmp","innerHTML","firstChild","Actions","toast.setup","parse","toast.show","toast.clear","Component","attributes","type","String","default","Number","methods","render","update","equal"],"mappings":"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","file":"../dmxBootstrap5Toasts/dmxBootstrap5Toasts.js","sourcesContent":["dmx.bs5toast = {\r\n    defaults: {\r\n        iconType: 'image',\r\n        position: 'top',\r\n        align: 'right',\r\n        'offset-x': 15,\r\n        'offset-y': 15,\r\n        'z-index': 10000,\r\n        'min-width': 240,\r\n        'max-width': 350,\r\n        animation: true,\r\n        autohide: true,\r\n        closable: true,\r\n        delay: 5000\r\n    },\r\n\r\n    container: null,\r\n\r\n    setup: function(options) {\r\n        options = Object.assign(dmx.bs5toast.defaults, options);\r\n\r\n        if (!dmx.bs5toast.container) {\r\n            dmx.bs5toast.container = document.createElement('div');\r\n            document.body.appendChild(dmx.bs5toast.container);\r\n        }\r\n\r\n        var container = dmx.bs5toast.container;\r\n        container.style.removeProperty('top');\r\n        container.style.removeProperty('left');\r\n        container.style.removeProperty('right');\r\n        container.style.removeProperty('bottom');\r\n        container.style.removeProperty('max-width');\r\n        container.style.setProperty('position', 'fixed');\r\n        container.style.setProperty('z-index', options['z-index']);\r\n        container.style.setProperty(options.align, options['offset-x'] + 'px');\r\n        container.style.setProperty(options.position, options['offset-y'] + 'px');\r\n        if (options['max-width']) {\r\n            container.style.setProperty('max-width', options['max-width'] + 'px');\r\n        }\r\n    },\r\n\r\n    clear: function() {\r\n        if (dmx.bs5toast.container) {\r\n            dmx.bs5toast.container.textContent = '';\r\n        }\r\n    },\r\n\r\n    show: function(options) {\r\n        options = Object.assign({}, dmx.bs5toast.defaults, options);\r\n\r\n        if (!dmx.bs5toast.container) {\r\n            dmx.bs5toast.setup();\r\n        }\r\n\r\n        var node = dmx.bs5toast.create(options);\r\n        dmx.bs5toast.container.appendChild(node);\r\n\r\n        //$(node).toast(options).toast('show').on('hidden.bs.toast', function() {\r\n        var toast = new bootstrap.Toast(node, options);\r\n        node.addEventListener('hidden.bs.toast', function() {\r\n            dmx.bs5toast.container.removeChild(node);\r\n        });\r\n        toast.show();\r\n    },\r\n\r\n    create: function(options) {\r\n        var html = '<div class=\"toast\"' + (options['min-width'] ? ' style=\"min-width: ' + options['min-width'] + 'px\"' : '') + ' role=\"alert\" aria-live=\"assertive\" aria-atomic=\"true\" data-bs-delay=\"' + (options.delay || this.props.delay) + '\">';\r\n        if (options.icon || options.title || options.subtitle || options.closable) {\r\n            html += '<div class=\"toast-header\">';\r\n            if (options.icon) {\r\n                switch (options.iconType) {\r\n                    case 'fontawesome':\r\n                        html += '<i class=\"' + options.icon + ' me-2\"></i>';\r\n                        break;\r\n                    default:\r\n                        html += '<img src=\"' + options.icon + '\" height=\"20\" class=\"rounded me-2\" alt=\"' + (options.alt || '') + '\">';\r\n                        break;\r\n                }\r\n            }\r\n            html += '<strong class=\"me-auto\">' + (options.title || '') + '</strong>';\r\n            if (options.subtitle) {\r\n                html += '<small class=\"text-muted\">' + (options.subtitle) + '</small>';\r\n            }\r\n            if (options.closable) {\r\n                html += '<button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"toast\" aria-label=\"Close\"></button>';\r\n            }\r\n            html += '</div>';\r\n        }\r\n        html += '<div class=\"toast-body\">' + (options.message || '') + '</div>';\r\n        html += '</div>';\r\n\r\n        var tmp = document.createElement('div');\r\n        tmp.innerHTML = html;\r\n        return tmp.firstChild;\r\n    }\r\n};","dmx.Actions({\r\n\r\n    'toast.setup': function(options) {\r\n        dmx.bs5toast.setup(this.parse(options));\r\n    },\r\n\r\n    'toast.show': function(options) {\r\n        dmx.bs5toast.show(this.parse(options));\r\n    },\r\n\r\n    'toast.clear': function() {\r\n        dmx.bs5toast.clear();\r\n    }\r\n\r\n});","dmx.Component('bs5-toasts', {\r\n\r\n    attributes: {\r\n        position: { // top, bottom\r\n            type: String,\r\n            default: 'top'\r\n        },\r\n\r\n        align: { // left, right\r\n            type: String,\r\n            default: 'right'\r\n        },\r\n\r\n        'offset-x': {\r\n            type: Number,\r\n            default: 15\r\n        },\r\n\r\n        'offset-y': {\r\n            type: Number,\r\n            default: 15\r\n        },\r\n\r\n        'min-width': {\r\n            type: Number,\r\n            default: 240\r\n        },\r\n\r\n        'max-width': {\r\n            type: Number,\r\n            default: 350\r\n        },\r\n\r\n        'z-index': {\r\n            type: Number,\r\n            default: 10000\r\n        },\r\n\r\n        delay: {\r\n            type: Number,\r\n            default: 5000\r\n        }\r\n    },\r\n\r\n    methods: {\r\n        clear: function() {\r\n            this.clear();\r\n        },\r\n\r\n        show: function(options) {\r\n            this.show(options);\r\n        }\r\n    },\r\n\r\n    render: function(node) {\r\n        this.update({});\r\n    },\r\n\r\n    update: function(props) {\r\n        if (!dmx.equal(props, this.props)) {\r\n            dmx.bs5toast.setup(this.props);\r\n        }\r\n    },\r\n\r\n    clear: function() {\r\n        dmx.bs5toast.clear();\r\n    },\r\n\r\n    show: function(options) { // options: title, message, delay, closable\r\n        dmx.bs5toast.show(options);\r\n    }\r\n\r\n});"]}