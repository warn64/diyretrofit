{"version":3,"sources":["components/calendar.js","components/calendarSourceBase.js","components/calendarSource.js","components/calendarSourceGoogle.js","components/calendarEvent.js"],"names":["dmx","Component","initialData","title","activeStart","activeEnd","currentStart","currentEnd","constructor","node","parent","this","onDatesRender","bind","onDateClick","onEventClick","onEventMouseEnter","onEventMouseLeave","onEventDrop","onEventResize","onEventRender","onEventDestroy","onSelect","parseSource","_businessHours","BaseComponent","call","attributes","timezone","type","String","default","date","locale","height","Number","view","views","Array","theme","Boolean","selectable","editable","Object","methods","gotoDate","calendar","updateSize","prev","next","prevYear","nextYear","today","events","dateclick","MouseEvent","eventclick","eventmouseenter","eventmouseleave","eventdrop","Event","eventresize","select","info","set","parseDate","dispatchEvent","jsEvent","dateStr","allDay","preventDefault","event","getEventProps","scope","DataScope","source","internalEventSource","extendedProps","bs4Tooltip","$","el","tooltip","placement","parse","bs4TooltipPlacement","bs4TooltipTitle","props","start","startStr","end","endStr","child","register","$parseAttributes","self","prototype","dom","getAttributes","forEach","attr","name","$addBinding","value","oldProps","clone","key","keys","modifiers","isArray","values","update","parseAttribute","toCamelCase","argument","constraint","binding","removeAttribute","fullName","render","plugins","filter","window","toUpperCase","slice","FullCalendar","Calendar","googleCalendarApiKey","timeZone","defaultDate","defaultView","aspectRatio","themeSystem","selectConstraint","showNonCurrentDates","eventOverlap","businessHours","fixedWeekCount","eventOrder","eventLimit","nowIndicator","datesRender","dateClick","eventClick","eventMouseEnter","eventMouseLeave","eventDrop","eventResize","eventRender","eventDestroy","header","left","center","right","toString","$parse","changeView","setOption","equal","beforeDestroy","destroy","id","toISOString","attrName","re","RegExp","replace","nodeType","i","length","attribute","specified","test","split","part","pos","indexOf","substr","push","getFullYear","getMonth","getDate","str","a","b","console","error","color","overlap","refetch","getEventSourceById","extends","parseEvents","success","failure","repeatItems","data","prop","hasOwnProperty","children","addEventSource","assign","onSuccess","onFailure","err","url","rendering"],"mappings":"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","file":"../dmxCalendar/dmxCalendar.js","sourcesContent":["dmx.Component('calendar', {\r\n\r\n    initialData: {\r\n        title: null,\r\n        activeStart: null,\r\n        activeEnd: null,\r\n        currentStart: null,\r\n        currentEnd: null\r\n    },\r\n\r\n    constructor: function(node, parent) {\r\n        this.onDatesRender = this.onDatesRender.bind(this);\r\n        this.onDateClick = this.onDateClick.bind(this);\r\n        this.onEventClick = this.onEventClick.bind(this);\r\n        this.onEventMouseEnter = this.onEventMouseEnter.bind(this);\r\n        this.onEventMouseLeave = this.onEventMouseLeave.bind(this);\r\n        this.onEventDrop = this.onEventDrop.bind(this);\r\n        this.onEventResize = this.onEventResize.bind(this);\r\n        this.onEventRender = this.onEventRender.bind(this);\r\n        this.onEventDestroy = this.onEventDestroy.bind(this);\r\n        this.onSelect = this.onSelect.bind(this);\r\n        this.parseSource = this.parseSource.bind(this);\r\n\r\n        this._businessHours = {};\r\n\r\n        dmx.BaseComponent.call(this, node, parent);\r\n    },\r\n\r\n    attributes: {\r\n        'timezone': { // moment-timezone or luxon plugin for named timezones\r\n            type: String,\r\n            default: 'local' // \"local\", \"UTC\"\r\n        },\r\n\r\n        'date': {\r\n            type: String,\r\n            default: null // ISO8601 format\r\n        },\r\n\r\n        'locale': { // locales include needed\r\n            type: String,\r\n            default: null\r\n        },\r\n\r\n        'height': { // height of entire calendar\r\n            type: String,\r\n            default: null // interger, \"parent\", \"auto\"\r\n        },\r\n\r\n        'aspect-ratio': { // width-to-height aspect ratio\r\n            type: Number,\r\n            default: 1.35\r\n        },\r\n\r\n        'view': { // dayGrid, timeGrid, list plugin\r\n            type: String,\r\n            default: null // name of view like \"dayGridMonth\"\r\n        },\r\n\r\n        'views': {\r\n            type: Array,\r\n            default: []\r\n        },\r\n\r\n        'theme': { // bootstrap plugin\r\n            type: String,\r\n            default: 'standard' // \"standard\", \"bootstrap\"\r\n        },\r\n\r\n        'hide-non-current-dates': { // dayGrid plugin (dayGridMonth only)\r\n            type: Boolean,\r\n            default: false\r\n        },\r\n\r\n        'selectable': { // interaction plugin\r\n            type: Boolean,\r\n            default: false\r\n        },\r\n\r\n        /* will use custom parser for this\r\n        'constraint': { // interaction plugin\r\n            type: [String, Object], // https://fullcalendar.io/docs/selectConstraint\r\n            default: null\r\n        },\r\n        */\r\n\r\n        'editable': { // interaction plugin\r\n            type: Boolean,\r\n            default: null\r\n        },\r\n\r\n        'no-event-overlap': {\r\n            type: Boolean,\r\n            default: false\r\n        },\r\n\r\n        'business-hours': {\r\n            type: Boolean, // https://fullcalendar.io/docs/businessHours\r\n            default: false\r\n        },\r\n\r\n        'google-calendar-api-key': {\r\n            type: String,\r\n            default: null\r\n        },\r\n\r\n        'no-fixed-week-count': {\r\n            type: Boolean, // https://fullcalendar.io/docs/fixedWeekCount\r\n            default: false\r\n        },\r\n\r\n        'event-order': {\r\n            type: String, // https://fullcalendar.io/docs/eventOrder\r\n            default: 'start,-duration,allDay,title'\r\n        },\r\n\r\n        'event-limit': {\r\n            type: [Boolean, Number], // https://fullcalendar.io/docs/eventLimit\r\n            default: false\r\n        },\r\n\r\n        'now-indicator': {\r\n            type: Boolean, // https://fullcalendar.io/docs/nowIndicator\r\n            default: false\r\n        },\r\n\r\n        'bs4-tooltip': {\r\n            type: Boolean,\r\n            default: false\r\n        },\r\n\r\n        'bs4-tooltip-placement': {\r\n            type: String, // expression\r\n            default: '\"top\"'\r\n        },\r\n\r\n        'bs4-tooltip-title': {\r\n            type: String, // expression\r\n            default: 'event.extendedProps.description || event.title'\r\n        },\r\n\r\n        'views-options': {\r\n            type: Object, // https://fullcalendar.io/docs/view-specific-options\r\n            default: {}\r\n        }\r\n    },\r\n\r\n    methods: {\r\n        gotoDate: function(date) {\r\n            this.calendar.gotoDate(date);\r\n        },\r\n\r\n        updateSize: function() {\r\n            this.calendar.updateSize();\r\n        },\r\n\r\n        prev: function() {\r\n            this.calendar.prev();\r\n        },\r\n\r\n        next: function() {\r\n            this.calendar.next();\r\n        },\r\n\r\n        prevYear: function() {\r\n            this.calendar.prevYear();\r\n        },\r\n\r\n        nextYear: function() {\r\n            this.calendar.nextYear();\r\n        },\r\n\r\n        today: function() {\r\n            this.calendar.today();\r\n        }\r\n    },\r\n\r\n    events: {\r\n        dateclick: MouseEvent, // interaction plugin\r\n        eventclick: MouseEvent,\r\n        eventmouseenter: MouseEvent,\r\n        eventmouseleave: MouseEvent,\r\n        eventdrop: Event,\r\n        eventresize: Event,\r\n        select: Event\r\n    },\r\n\r\n    onDatesRender: function(info) {\r\n        this.set({\r\n            title: info.view.title,\r\n            activeStart: this.parseDate(info.view.activeStart),\r\n            activeEnd: this.parseDate(info.view.activeEnd),\r\n            currentStart: this.parseDate(info.view.currentStart),\r\n            currentEnd: this.parseDate(info.view.currentEnd)\r\n        });\r\n    },\r\n\r\n    onDateClick: function(info) {\r\n        var cancelled  = !this.dispatchEvent('dateclick', info.jsEvent, {\r\n            date: info.dateStr,\r\n            allDay: info.allDay\r\n        });\r\n\r\n        if (cancelled) {\r\n            info.jsEvent.preventDefault();\r\n        }\r\n    },\r\n\r\n    onEventClick: function(info) {\r\n        var cancelled  = !this.dispatchEvent('eventclick', info.jsEvent, {\r\n            event: this.getEventProps(info.event)\r\n        });\r\n\r\n        if (cancelled) {\r\n            info.jsEvent.preventDefault();\r\n        }\r\n    },\r\n\r\n    onEventMouseEnter: function(info) {\r\n        this.dispatchEvent('eventmouseenter', info.jsEvent, {\r\n            event: this.getEventProps(info.event)\r\n        });\r\n    },\r\n\r\n    onEventMouseLeave: function(info) {\r\n        this.dispatchEvent('eventmouseleave', info.jsEvent, {\r\n            event: this.getEventProps(info.event)\r\n        });\r\n    },\r\n\r\n    onEventDrop: function(info) {\r\n        this.dispatchEvent('eventdrop', info.jsEvent, {\r\n            event: this.getEventProps(info.event)\r\n        });\r\n    },\r\n\r\n    onEventResize: function(info) {\r\n        this.dispatchEvent('eventresize', info.jsEvent, {\r\n            event: this.getEventProps(info.event)\r\n        });\r\n    },\r\n\r\n    onEventRender: function(info) {\r\n        var scope = new dmx.DataScope({\r\n            event: this.getEventProps(info.event)\r\n        }, this);\r\n\r\n        if (info.event.source && info.event.source.internalEventSource.extendedProps && info.event.source.internalEventSource.extendedProps.bs4Tooltip) {\r\n            $(info.el).tooltip({\r\n                placement: dmx.parse(info.event.source.internalEventSource.extendedProps.bs4TooltipPlacement, scope) || 'top',\r\n                title: dmx.parse(info.event.source.internalEventSource.extendedProps.bs4TooltipTitle, scope) || ''\r\n            });\r\n        } else if (this.props['bs4-tooltip']) {\r\n            $(info.el).tooltip({\r\n                placement: dmx.parse(this.props['bs4-tooltip-placement'], scope) || 'top',\r\n                title: dmx.parse(this.props['bs4-tooltip-title'], scope) || ''\r\n            });\r\n        }\r\n    },\r\n\r\n    onEventDestroy: function(info) {\r\n        if (this.props['bs4-tooltip']) {\r\n            $(info.el).tooltip('dispose');\r\n        }\r\n    },\r\n\r\n    onSelect: function(info) {\r\n        this.dispatchEvent('select', info.jsEvent, {\r\n            start: info.startStr,\r\n            end: info.endStr,\r\n            allDay: info.allDay\r\n        });\r\n    },\r\n\r\n    parseSource: function(child) {\r\n        if (child instanceof dmx.Component('calendar-source-base')) {\r\n            child.calendar = this.calendar;\r\n            child.register();\r\n        }\r\n    },\r\n\r\n    $parseAttributes: function(node) {\r\n        var self = this;\r\n\r\n        dmx.BaseComponent.prototype.$parseAttributes.call(this, node);\r\n\r\n        // parse dmx-business-hours\r\n        dmx.dom.getAttributes(node).forEach(function(attr) {\r\n            if (attr.name == 'business-hours') {\r\n                self.$addBinding(attr.value, function(value) {\r\n                    if (value != null) {\r\n                        var oldProps = dmx.clone(self.props);\r\n                        var key = Object.keys(attr.modifiers)[0];\r\n\r\n                        self._businessHours[key] = value;\r\n\r\n                        if (!Array.isArray(this.props['business-hours'])) {\r\n                            self.props['business-hours'] = [];\r\n                        }\r\n\r\n                        self.props['business-hours'] = Object.values(self._businessHours);\r\n\r\n                        self.update(oldProps);\r\n                    }\r\n                });\r\n            }\r\n        });\r\n\r\n        // views options custom parse\r\n        this.parseAttribute(node, 'views-options').forEach(function(attr) {\r\n            self.$addBinding(attr.value, function(value) {\r\n                var oldProps = dmx.clone(self.props);\r\n                self.props['views-options'][this.toCamelCase(attr.argument)] = value || {};\r\n                self.update(oldProps);\r\n            });\r\n        });\r\n\r\n        // constraint custom parse\r\n        this.parseAttribute(node, 'constraint').forEach(function(attr) {\r\n            if (attr.modifiers['business-hours']) {\r\n                // special case for businessHours modifier\r\n                self.props.constraint = 'businessHours';\r\n            } else {\r\n                if (attr.binding) {\r\n                    // dynamic attribute\r\n                    self.$addBinding(attr.value, function(value) {\r\n                        var oldProps = dmx.clone(self.props);\r\n                        self.props.constraint = value;\r\n                        self.update(oldProps);\r\n                    });\r\n                } else {\r\n                    // static attribute\r\n                    self.props.constraint = attr.value;\r\n                }\r\n            }\r\n\r\n            // we need to remove the attribute so that the default parser doesn't parse it\r\n            node.removeAttribute(attr.fullName);\r\n        });\r\n    },\r\n\r\n    render: function(node) {\r\n        // detect installed plugins\r\n        var plugins = ['interaction', 'dayGrid', 'timeGrid', 'list', 'bootstrap', 'googleCalendar'].filter(function(name) {\r\n            return !!window['FullCalendar' + name[0].toUpperCase() + name.slice(1)];\r\n        });\r\n\r\n        this.calendar = new FullCalendar.Calendar(node, {\r\n            plugins: plugins,\r\n            googleCalendarApiKey: this.props['google-calendar-api-key'],\r\n            timeZone: this.props.timezone,\r\n            defaultDate: this.props.date,\r\n            defaultView: this.props.view,\r\n            locale: this.props.locale,\r\n            height: this.props.height,\r\n            aspectRatio: this.props['aspect-ratio'],\r\n            themeSystem: this.props.theme,\r\n            selectable: this.props.selectable,\r\n            selectConstraint: this.props.constraint,\r\n            editable: this.props.editable,\r\n            showNonCurrentDates: !this.props['hide-non-current-dates'],\r\n            eventOverlap: !this.props['no-event-overlap'],\r\n            businessHours: this.props['business-hours'],\r\n            fixedWeekCount: !this.props['no-fixed-week-count'],\r\n            eventOrder: this.props['event-order'],\r\n            eventLimit: this.props['event-limit'],\r\n            nowIndicator: this.props['now-indicator'],\r\n            datesRender: this.onDatesRender,\r\n            dateClick: this.onDateClick,\r\n            eventClick: this.onEventClick,\r\n            eventMouseEnter: this.onEventMouseEnter,\r\n            eventMouseLeave: this.onEventMouseLeave,\r\n            eventDrop: this.onEventDrop,\r\n            eventResize: this.onEventResize,\r\n            eventRender: this.onEventRender,\r\n            eventDestroy: this.onEventDestroy,\r\n            select: this.onSelect,\r\n            views: this.props['views-options'],\r\n            header: {\r\n                left: 'today prev,next',\r\n                center: 'title',\r\n                right: this.props.views.toString()\r\n            }\r\n        });\r\n\r\n        this.$parse();\r\n\r\n        this.calendar.render();\r\n    },\r\n\r\n    update: function(props) {\r\n        if (!this.calendar) return;\r\n        \r\n        if (props.view != this.props.view) {\r\n            this.calendar.changeView(this.props.view || 'dayGridMonth');\r\n        }\r\n\r\n        if (props.date != this.props.date) {\r\n            this.calendar.gotoDate(this.props.date);\r\n        }\r\n\r\n        if (props.timezone != this.props.timezone) {\r\n            this.calendar.setOption('timeZone', this.props.timezone);\r\n        }\r\n\r\n        if (props.locale != this.props.locale) {\r\n            this.calendar.setOption('locale', this.props.locale);\r\n        }\r\n\r\n        if (props.theme != this.props.theme) {\r\n            this.calendar.setOption('themeSystem', this.props.theme);\r\n        }\r\n\r\n        if (props['hide-non-current-dates'] != this.props['hide-non-current-dates']) {\r\n            this.calendar.setOption('showNonCurrentDates', !this.props['hide-non-current-dates']);\r\n        }\r\n\r\n        if (props.selectable != this.props.selectable) {\r\n            this.calendar.setOption('selectable', this.props.selectable);\r\n        }\r\n\r\n        if (props.editable != this.props.editable) {\r\n            this.calendar.setOption('editable', this.props.editable);\r\n        }\r\n\r\n        if (props['no-event-overlap'] != this.props['no-event-overlap']) {\r\n            this.calendar.setOption('eventOverlap', !this.props['no-event-overlap']);\r\n        }\r\n\r\n        if (!dmx.equal(props['business-hours'], this.props['business-hours'])) {\r\n            this.calendar.setOption('businessHours', this.props['business-hours']);\r\n        }\r\n\r\n        if (!dmx.equal(props.constraint, this.props.constraint)) {\r\n            this.calendar.setOption('selectConstraint', this.props.constraint);\r\n        }\r\n\r\n        if (props['google-calendar-api-key'] != this.props['google-calendar-api-key']) {\r\n            this.calendar.setOption('googleCalendarApiKey', this.props['google-calendar-api-key']);\r\n        }\r\n\r\n        if (props['no-fixed-week-count'] != this.props['no-fixed-week-count']) {\r\n            this.calendar.setOption('fixedWeekCount', !this.props['no-fixed-week-count']);\r\n        }\r\n\r\n        if (props['event-order'] != this.props['event-order']) {\r\n            this.calendar.setOption('eventOrder', this.props['event-order']);\r\n        }\r\n\r\n        if (props['event-limit'] != this.props['event-limit']) {\r\n            this.calendar.setOption('eventLimit', this.props['event-limit']);\r\n        }\r\n\r\n        if (props['now-indicator'] != this.props['now-indicator']) {\r\n            this.calendar.setOption('nowIndicator', this.props['now-indicator']);\r\n        }\r\n\r\n        if (!dmx.equal(props['views-options'], this.props['views-options'])) {\r\n            this.calendar.setOption('views', this.props['views-options']);\r\n        }\r\n    },\r\n\r\n    beforeDestroy: function() {\r\n        this.calendar.destroy();\r\n    },\r\n\r\n    getEventProps: function(event) {\r\n        return {\r\n            id: event.id,\r\n            start: event.start && event.start.toISOString(),\r\n            end: event.end && event.end.toISOString(),\r\n            allDay: event.allDay,\r\n            title: event.title,\r\n            extendedProps: event.extendedProps\r\n        };\r\n    },\r\n\r\n    // special parse required for constraint attribute\r\n    // supports static/dynamic attributes\r\n    parseAttribute: function(node, attrName) {\r\n        var attributes = [];\r\n        var re = new RegExp('^(dmx\\\\-bind:)?' + attrName.replace(/[-[\\]{}()*+?.,\\^$|#\\s]/g, '\\\\$&'), 'i');\r\n\r\n        if (node.nodeType == 1) {\r\n            for (var i = 0; i < node.attributes.length; i++) {\r\n                var attribute = node.attributes[i];\r\n\r\n                if (attribute && attribute.specified && re.test(attribute.name)) {\r\n                    var name = attribute.name;\r\n                    var argument = null;\r\n                    var modifiers = {};\r\n\r\n                    name = name.replace(/^dmx\\-bind:/i, '');\r\n\r\n                    name.split('.').forEach(function(part, i) {\r\n                        if (i === 0) {\r\n                            name = part;\r\n                        } else {\r\n                            var pos = part.indexOf(':');\r\n                            if (pos > 0) {\r\n                                modifiers[part.substr(0, pos)] = part.substr(pos + 1);\r\n                            } else {\r\n                                modifiers[part] = true;\r\n                            }\r\n                        }\r\n                    });\r\n\r\n                    var pos = name.indexOf(':');\r\n                    if (pos > 0) {\r\n                        argument = name.substr(pos + 1);\r\n                        name = name.substr(0, pos);\r\n                    }\r\n\r\n                    attributes.push({\r\n                        name: name,\r\n                        binding: attribute.name.indexOf('dmx-bind:') === 0,\r\n                        fullName: attribute.name,\r\n                        value: attribute.value,\r\n                        argument: argument,\r\n                        modifiers: modifiers\r\n                    });\r\n                }\r\n            }\r\n        }\r\n\r\n        return attributes;\r\n    },\r\n\r\n    parseDate: function(date) {\r\n        return date.getFullYear() + '-' + ('0' + (date.getMonth() + 1)).slice(-2) + '-' + ('0' + (date.getDate())).slice(-2) + ' 00:00:00'\r\n    },\r\n\r\n    toCamelCase: function(str) {\r\n        return str.replace(/-(\\w)/g, function(a, b) {\r\n            return b.toUpperCase();\r\n        });\r\n    }\r\n\r\n});","dmx.Component('calendar-source-base', {\r\n\r\n    constructor: function(node, parent, source) {\r\n        if (parent instanceof dmx.Component('calendar')) {\r\n            this.calendar = parent.calendar;\r\n        } else {\r\n            console.error('calendar-source can only be child of calendar component.');\r\n        }\r\n\r\n        dmx.BaseComponent.call(this, node, parent);\r\n    },\r\n\r\n    initialData: {\r\n        id: null,\r\n        events: []\r\n    },\r\n\r\n    attributes: {\r\n        'color': {\r\n            type: String,\r\n            default: null\r\n        },\r\n\r\n        'background-color': {\r\n            type: String,\r\n            default: null\r\n        },\r\n\r\n        'border-color': {\r\n            type: String,\r\n            default: null\r\n        },\r\n\r\n        'text-color': {\r\n            type: String,\r\n            default: null\r\n        },\r\n\r\n        'class-name': {\r\n            type: String,\r\n            default: null\r\n        },\r\n\r\n        'editable': {\r\n            type: Boolean,\r\n            default: null\r\n        },\r\n\r\n        'overlap': {\r\n            type: Boolean,\r\n            default: false\r\n        },\r\n\r\n        'bs4-tooltip': {\r\n            type: Boolean,\r\n            default: false\r\n        },\r\n\r\n        'bs4-tooltip-placement': {\r\n            type: String, // expression\r\n            default: '\"top\"'\r\n        },\r\n\r\n        'bs4-tooltip-title': {\r\n            type: String, // expression\r\n            default: 'event.extendedProps.description || event.title'\r\n        }\r\n    },\r\n    \r\n    methods: {\r\n        refetch: function() {\r\n            this.refetch();\r\n        }\r\n    },\r\n\r\n    render: function() {\r\n        if (!this.calendar) return;\r\n        this.$parse();\r\n        this.set('id', this.name);\r\n    },\r\n\r\n    refetch: function() {\r\n        this.calendar.getEventSourceById(this.name).refetch();\r\n    },\r\n\r\n    toCamelCase: function(str) {\r\n        return str.replace(/-(\\w)/g, function(a, b) {\r\n            return b.toUpperCase();\r\n        });\r\n    }\r\n\r\n});","dmx.Component('calendar-source', {\r\n\r\n    extends: 'calendar-source-base',\r\n\r\n    constructor: function(node, parent, source) {\r\n        this.parseEvents = this.parseEvents.bind(this);\r\n\r\n        dmx.Component('calendar-source-base').call(this, node, parent);\r\n    },\r\n\r\n    attributes: {\r\n        'events': {\r\n            type: Array,\r\n            default: []\r\n        },\r\n\r\n        'event-id': {\r\n            type: String,\r\n            default: 'id'\r\n        },\r\n\r\n        'event-title': {\r\n            type: String,\r\n            default: 'title'\r\n        },\r\n\r\n        'event-url': {\r\n            type: String,\r\n            default: 'url'\r\n        },\r\n\r\n        'event-start': {\r\n            type: String,\r\n            default: 'start'\r\n        },\r\n\r\n        'event-end': {\r\n            type: String,\r\n            default: 'end'\r\n        },\r\n\r\n        'event-all-day': {\r\n            type: String,\r\n            default: 'allDay'\r\n        },\r\n\r\n        'event-days-of-week': {\r\n            type: String,\r\n            default: 'daysOfWeek'\r\n        },\r\n\r\n        'event-start-time': {\r\n            type: String,\r\n            default: 'startTime'\r\n        },\r\n\r\n        'event-end-time': {\r\n            type: String,\r\n            default: 'endTime'\r\n        },\r\n\r\n        'event-start-recur': {\r\n            type: String,\r\n            default: 'startRecur'\r\n        },\r\n\r\n        'event-end-recur': {\r\n            type: String,\r\n            default: 'endRecur'\r\n        },\r\n\r\n        'event-group-id': {\r\n            type: String,\r\n            default: 'groupId'\r\n        },\r\n\r\n        'event-rendering': {\r\n            type: String,\r\n            default: 'rendering'\r\n        },\r\n\r\n        'event-color': {\r\n            type: String,\r\n            default: 'color'\r\n        },\r\n\r\n        'event-background-color': {\r\n            type: String,\r\n            default: 'backgroundColor'\r\n        },\r\n\r\n        'event-border-color': {\r\n            type: String,\r\n            default: 'borderColor'\r\n        },\r\n\r\n        'event-text-color': {\r\n            type: String,\r\n            default: 'textColor'\r\n        },\r\n\r\n        'event-class-name': {\r\n            type: String,\r\n            default: 'className'\r\n        },\r\n\r\n        'event-editable': {\r\n            type: String,\r\n            default: 'editable'\r\n        },\r\n\r\n        'event-overlap': {\r\n            type: String,\r\n            default: 'overlap'\r\n        },\r\n\r\n        'event-extended-props': {\r\n            type: String,\r\n            default: '$value'\r\n        }\r\n    },\r\n\r\n    parseEvents: function(info, success, failure) {\r\n        this.events = [];\r\n\r\n        if (Array.isArray(this.props.events)) {\r\n            dmx.repeatItems(this.props.events).forEach(function(data) {\r\n                var scope = new dmx.DataScope(data, this);\r\n                var event = {};\r\n\r\n                for (var prop in this.props) {\r\n                    if (!this.props.hasOwnProperty(prop)) continue;\r\n                    if (prop.indexOf('event-') === 0) {\r\n                        var value = dmx.parse(this.props[prop], scope);\r\n\r\n                        if (value != null) {\r\n                            event[this.toCamelCase(prop.substr(6))] = value;\r\n                        }\r\n                    }\r\n                }\r\n\r\n                this.events.push(event);\r\n            }, this);\r\n        }\r\n\r\n        this.children.forEach(function(child) {\r\n            if (child instanceof dmx.Component('calendar-event')) {\r\n                var event = { id: child.name };\r\n\r\n                for (var prop in child.props) {\r\n                    if (!child.props.hasOwnProperty(prop)) continue;\r\n                    if (child.props[prop] != null) {\r\n                        event[this.toCamelCase(prop)] = child.props[prop];\r\n                    }\r\n                }\r\n\r\n                this.events.push(event);\r\n            }\r\n        }, this);\r\n\r\n        success(this.events);\r\n        \r\n        this.set('events', this.events);\r\n    },\r\n\r\n    render: function() {\r\n        if (!this.calendar) return;\r\n\r\n        this.$parse();\r\n\r\n        var props = {};\r\n\r\n        for (var prop in this.props) {\r\n            if (!this.props.hasOwnProperty(prop)) continue;\r\n            if (this.props[prop] != null) {\r\n                props[this.toCamelCase(prop)] = this.props[prop];\r\n            }\r\n        }\r\n        \r\n        this.calendar.addEventSource(Object.assign({\r\n            id: this.name\r\n        }, props, {\r\n            events: this.parseEvents\r\n        }));\r\n\r\n        this.set('id', this.name);\r\n    },\r\n\r\n    update: function(props) {\r\n        if (!dmx.equal(props.events, this.props.events)) {\r\n            this.refetch();\r\n        }\r\n    }\r\n\r\n});","dmx.Component('calendar-source-google', {\r\n\r\n    extends: 'calendar-source-base',\r\n\r\n    constructor: function(node, parent, source) {\r\n        this.onSuccess = this.onSuccess.bind(this);\r\n        this.onFailure = this.onFailure.bind(this);\r\n\r\n        dmx.Component('calendar-source-base').call(this, node, parent);\r\n    },\r\n\r\n    attributes: {\r\n        'google-calendar-api-key': {\r\n            type: String,\r\n            default: null\r\n        },\r\n\r\n        'google-calendar-id': {\r\n            type: String,\r\n            default: null\r\n        },\r\n    },\r\n\r\n    events: {\r\n        success: Event,\r\n        failure: Event\r\n    },\r\n\r\n    onSuccess: function() {\r\n        this.dispatchEvent('success');\r\n    },\r\n\r\n    onFailure: function(err) {\r\n        this.dispatchEvent('failure');\r\n    },\r\n\r\n    render: function() {\r\n        if (!this.calendar) return;\r\n\r\n        this.$parse();\r\n\r\n        var props = {};\r\n\r\n        for (var prop in this.props) {\r\n            if (!this.props.hasOwnProperty(prop)) continue;\r\n            if (this.props[prop] != null) {\r\n                props[this.toCamelCase(prop)] = this.props[prop];\r\n            }\r\n        }\r\n        \r\n        this.calendar.addEventSource(Object.assign({\r\n            id: this.name,\r\n            success: this.onSuccess,\r\n            failure: this.onFailure\r\n        }, props));\r\n\r\n        this.set('id', this.name);\r\n    }\r\n\r\n});","dmx.Component('calendar-event', {\r\n\r\n    constructor: function(node, parent, source) {\r\n        if (!(parent instanceof dmx.Component('calendar-source'))) {\r\n            console.error('calendar-event can only be child of calendar-source component.');\r\n        }\r\n\r\n        dmx.BaseComponent.call(this, node, parent);\r\n    },\r\n\r\n    attributes: {\r\n        'title': {\r\n            type: String,\r\n            default: null\r\n        },\r\n\r\n        'url': {\r\n            type: String,\r\n            default: null\r\n        },\r\n\r\n        'start': {\r\n            type: String,\r\n            default: null\r\n        },\r\n\r\n        'end': {\r\n            type: String,\r\n            default: null\r\n        },\r\n\r\n        'all-day': {\r\n            type: Boolean,\r\n            default: false\r\n        },\r\n\r\n        'days-of-week': { // For defining a simple recurring event\r\n            type: Array,\r\n            default: null\r\n        },\r\n\r\n        'start-time': { // For defining a simple recurring event\r\n            type: String,\r\n            default: null\r\n        },\r\n\r\n        'end-time': { // For defining a simple recurring event\r\n            type: String,\r\n            default: null\r\n        },\r\n\r\n        'start-recur': { // For defining a simple recurring event\r\n            type: String,\r\n            default: null\r\n        },\r\n\r\n        'end-recur': { // For defining a simple recurring event\r\n            type: String,\r\n            default: null\r\n        },\r\n\r\n        'group-id': {\r\n            type: String,\r\n            default: null\r\n        },\r\n\r\n        'rendering': {\r\n            type: String, // background, inverse-background\r\n            default: null\r\n        },\r\n\r\n        'editable': {\r\n            type: Boolean,\r\n            default: null\r\n        },\r\n\r\n        'color': {\r\n            type: String,\r\n            default: null\r\n        },\r\n\r\n        'background-color': {\r\n            type: String,\r\n            default: null\r\n        },\r\n\r\n        'border-color': {\r\n            type: String,\r\n            default: null\r\n        },\r\n\r\n        'text-color': {\r\n            type: String,\r\n            default: null\r\n        },\r\n\r\n        'class-name': {\r\n            type: String,\r\n            default: null\r\n        },\r\n\r\n        'extended-props': {\r\n            type: Object,\r\n            default: null\r\n        }\r\n    },\r\n\r\n    $parseAttributes: function(node) {\r\n        var self = this;\r\n\r\n        dmx.BaseComponent.prototype.$parseAttributes.call(this, node);\r\n\r\n        // constraint custom parse\r\n        this.parseAttribute(node, 'constraint').forEach(function(attr) {\r\n            if (attr.modifiers['business-hours']) {\r\n                // special case for businessHours modifier\r\n                self.props.constraint = 'businessHours';\r\n            } else {\r\n                if (attr.binding) {\r\n                    // dynamic attribute\r\n                    self.$addBinding(attr.value, function(value) {\r\n                        self.props.constraint = value;\r\n                    });\r\n                } else {\r\n                    // static attribute\r\n                    self.props.constraint = attr.value;\r\n                }\r\n            }\r\n\r\n            // we need to remove the attribute so that the default parser doesn't parse it\r\n            node.removeAttribute(attr.fullName);\r\n        });\r\n    },\r\n\r\n    update: function(props) {\r\n        if (!dmx.equal(props, this.props)) {\r\n            if (this.parent.refetch) {\r\n                this.parent.refetch();\r\n            }\r\n        }\r\n    },\r\n\r\n    // special parse required for constraint attribute\r\n    // supports static/dynamic attributes\r\n    parseAttribute: function(node, attrName) {\r\n        var attributes = [];\r\n        var re = new RegExp('^(dmx\\\\-bind:)?' + attrName.replace(/[-[\\]{}()*+?.,\\^$|#\\s]/g, '\\\\$&'), 'i');\r\n\r\n        if (node.nodeType == 1) {\r\n            for (var i = 0; i < node.attributes.length; i++) {\r\n                var attribute = node.attributes[i];\r\n\r\n                if (attribute && attribute.specified && re.test(attribute.name)) {\r\n                    var name = attribute.name;\r\n                    var argument = null;\r\n                    var modifiers = {};\r\n\r\n                    name = name.replace(/^dmx\\-bind:/i, '');\r\n\r\n                    name.split('.').forEach(function(part, i) {\r\n                        if (i === 0) {\r\n                            name = part;\r\n                        } else {\r\n                            var pos = part.indexOf(':');\r\n                            if (pos > 0) {\r\n                                modifiers[part.substr(0, pos)] = part.substr(pos + 1);\r\n                            } else {\r\n                                modifiers[part] = true;\r\n                            }\r\n                        }\r\n                    });\r\n\r\n                    var pos = name.indexOf(':');\r\n                    if (pos > 0) {\r\n                        argument = name.substr(pos + 1);\r\n                        name = name.substr(0, pos);\r\n                    }\r\n\r\n                    attributes.push({\r\n                        name: name,\r\n                        binding: attribute.name.indexOf('dmx-bind:') === 0,\r\n                        fullName: attribute.name,\r\n                        value: attribute.value,\r\n                        argument: argument,\r\n                        modifiers: modifiers\r\n                    });\r\n                }\r\n            }\r\n        }\r\n\r\n        return attributes;\r\n    }\r\n\r\n});"]}